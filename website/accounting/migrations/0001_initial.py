# Generated by Django 4.0.6 on 2022-07-21 10:41

from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("inventory", "0009_alter_asset_collection_alter_asset_listing_price_and_more"),
    ]

    operations = [
        migrations.CreateModel(
            name="Contact",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                (
                    "moneybird_version",
                    models.PositiveBigIntegerField(
                        blank=True, null=True, verbose_name="Moneybird version"
                    ),
                ),
                (
                    "moneybird_json",
                    models.JSONField(null=True, verbose_name="JSON MoneyBird"),
                ),
                (
                    "company_name",
                    models.CharField(
                        blank=True,
                        max_length=100,
                        null=True,
                        verbose_name="company name",
                    ),
                ),
                (
                    "first_name",
                    models.CharField(
                        blank=True, max_length=100, null=True, verbose_name="voornaam"
                    ),
                ),
                (
                    "last_name",
                    models.CharField(
                        blank=True, max_length=100, null=True, verbose_name="achternaam"
                    ),
                ),
                (
                    "email",
                    models.EmailField(
                        blank=True, max_length=254, null=True, verbose_name="email"
                    ),
                ),
                (
                    "sepa_active",
                    models.BooleanField(default=False, verbose_name="sepa active"),
                ),
            ],
            options={
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="DocumentStyle",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                ("name", models.CharField(max_length=100)),
                ("default", models.BooleanField(default=True)),
            ],
            options={
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="Estimate",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                (
                    "moneybird_version",
                    models.PositiveBigIntegerField(
                        blank=True, null=True, verbose_name="Moneybird version"
                    ),
                ),
                (
                    "moneybird_json",
                    models.JSONField(null=True, verbose_name="JSON MoneyBird"),
                ),
                ("date", models.DateField(null=True, verbose_name="Date")),
                (
                    "total_price",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=19,
                        null=True,
                        verbose_name="total price",
                    ),
                ),
                (
                    "state",
                    models.CharField(
                        choices=[
                            ("draft", "draft"),
                            ("open", "open"),
                            ("late", "late"),
                            ("accepted", "accepted"),
                            ("rejected", "rejected"),
                            ("billed", "billed"),
                            ("archived", "archived"),
                        ],
                        default="draft",
                        max_length=10,
                        verbose_name="State",
                    ),
                ),
                (
                    "contact",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="estimates",
                        to="accounting.contact",
                        verbose_name="Contact",
                    ),
                ),
            ],
            options={
                "verbose_name": "Estimate",
                "verbose_name_plural": "Estimates",
                "ordering": ("-date",),
            },
        ),
        migrations.CreateModel(
            name="JournalDocument",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                (
                    "moneybird_version",
                    models.PositiveBigIntegerField(
                        blank=True, null=True, verbose_name="Moneybird version"
                    ),
                ),
                ("date", models.DateField(null=True, verbose_name="Date")),
                (
                    "moneybird_json",
                    models.JSONField(null=True, verbose_name="JSON MoneyBird"),
                ),
                (
                    "document_kind",
                    models.CharField(
                        choices=[
                            ("FAC", "Sales invoice"),
                            ("INK", "Purchase invoice"),
                            ("BON", "Bon"),
                            ("MEM", "General journal document"),
                        ],
                        max_length=3,
                        verbose_name="document kind",
                    ),
                ),
                (
                    "reference",
                    models.CharField(
                        blank=True, max_length=150, null=True, verbose_name="reference"
                    ),
                ),
                (
                    "total_price",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=19,
                        null=True,
                        verbose_name="total price",
                    ),
                ),
                (
                    "total_paid",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=19,
                        null=True,
                        verbose_name="total paid",
                    ),
                ),
                (
                    "total_unpaid",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=19,
                        null=True,
                        verbose_name="total unpaid",
                    ),
                ),
                (
                    "contact",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="journal_documents",
                        to="accounting.contact",
                        verbose_name="Contact",
                    ),
                ),
            ],
            options={
                "verbose_name": "Journal document",
                "verbose_name_plural": "Journal documents",
                "ordering": ("-date",),
            },
        ),
        migrations.CreateModel(
            name="LedgerAccount",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                ("name", models.CharField(max_length=100)),
                (
                    "account_type",
                    models.CharField(
                        choices=[
                            ("non_current_assets", "non current assets"),
                            ("current_assets", "current assets"),
                            ("equity", "equity"),
                            ("provisions", "provisions"),
                            ("non_current_liabilities", "non current liabilities"),
                            ("current_liabilities", "current liabilities"),
                            ("revenue", "revenue"),
                            ("direct_costs", "direct costs"),
                            ("expenses", "expenses"),
                            ("other_income_expenses", "other income expenses"),
                        ],
                        max_length=100,
                        verbose_name="Account type",
                    ),
                ),
                (
                    "is_margin",
                    models.BooleanField(
                        default=False,
                        help_text="All assets on this ledger account are margin assets.",
                    ),
                ),
                (
                    "is_sales",
                    models.BooleanField(
                        default=False,
                        help_text="Ledger account is used for selling assets.",
                    ),
                ),
                (
                    "is_purchase",
                    models.BooleanField(
                        default=False,
                        help_text="Ledger account is used for purchasing assets.",
                    ),
                ),
                (
                    "parent",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.PROTECT,
                        to="accounting.ledgeraccount",
                    ),
                ),
            ],
            options={
                "verbose_name": "Ledger account",
                "verbose_name_plural": "Ledger accounts",
            },
        ),
        migrations.CreateModel(
            name="Project",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                ("name", models.CharField(max_length=255)),
                ("active", models.BooleanField(default=True)),
            ],
            options={
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="RecurringSalesInvoice",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                (
                    "moneybird_version",
                    models.PositiveBigIntegerField(
                        blank=True, null=True, verbose_name="Moneybird version"
                    ),
                ),
                (
                    "moneybird_json",
                    models.JSONField(null=True, verbose_name="JSON MoneyBird"),
                ),
                ("auto_send", models.BooleanField(verbose_name="Auto send")),
                ("active", models.BooleanField(verbose_name="Active")),
                (
                    "frequency",
                    models.CharField(
                        choices=[
                            ("day", "day"),
                            ("week", "week"),
                            ("month", "month"),
                            ("quarter", "quarter"),
                            ("year", "year"),
                        ],
                        max_length=10,
                        verbose_name="frequency",
                    ),
                ),
                ("start_date", models.DateField(null=True, verbose_name="start date")),
                (
                    "invoice_date",
                    models.DateField(null=True, verbose_name="invoice date"),
                ),
                ("last_date", models.DateField(null=True, verbose_name="last date")),
                (
                    "total_price",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=19,
                        null=True,
                        verbose_name="total price",
                    ),
                ),
                (
                    "contact",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="recurring_sales_invoices",
                        to="accounting.contact",
                        verbose_name="Contact",
                    ),
                ),
            ],
            options={
                "verbose_name": "Recurring sales invoice",
                "verbose_name_plural": "Recurring sales invoices",
                "ordering": ("-start_date",),
            },
        ),
        migrations.CreateModel(
            name="TaxRate",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                ("name", models.CharField(max_length=100)),
                (
                    "type",
                    models.CharField(
                        choices=[
                            ("sales_invoice", "Sales invoice"),
                            ("purchase_invoice", "Purchase invoice"),
                            ("general_journal_document", "General journal document"),
                        ],
                        default="sales_invoice",
                        max_length=24,
                        verbose_name="type",
                    ),
                ),
                ("active", models.BooleanField(default=True)),
            ],
            options={
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="Workflow",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                ("name", models.CharField(max_length=100)),
                (
                    "type",
                    models.CharField(
                        choices=[
                            ("InvoiceWorkflow", "Invoice"),
                            ("EstimateWorkflow", "Estimate"),
                        ],
                        default="InvoiceWorkflow",
                        max_length=20,
                        verbose_name="type",
                    ),
                ),
                ("active", models.BooleanField(default=True)),
            ],
            options={
                "verbose_name": "Workflow",
                "verbose_name_plural": "Workflows",
            },
        ),
        migrations.CreateModel(
            name="RecurringSalesInvoiceDocumentLine",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                (
                    "moneybird_json",
                    models.JSONField(null=True, verbose_name="JSON MoneyBird"),
                ),
                ("description", models.TextField(verbose_name="Description")),
                (
                    "asset_id_field",
                    models.CharField(max_length=50, null=True, verbose_name="Asset-ID"),
                ),
                (
                    "asset",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="recurring_sales_invoice_document_lines",
                        to="inventory.asset",
                        verbose_name="Asset",
                    ),
                ),
                (
                    "document",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="document_lines",
                        to="accounting.recurringsalesinvoice",
                        verbose_name="Document",
                    ),
                ),
            ],
            options={
                "verbose_name": "Recurring sales invoice document line",
                "verbose_name_plural": "Recurring sales invoice document lines",
                "ordering": ("-document__start_date",),
            },
        ),
        migrations.AddField(
            model_name="recurringsalesinvoice",
            name="workflow",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="accounting.workflow",
                verbose_name="Workflow",
            ),
        ),
        migrations.CreateModel(
            name="Product",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                ("title", models.CharField(blank=True, max_length=255, null=True)),
                ("description", models.TextField(blank=True, null=True)),
                ("identifier", models.CharField(blank=True, max_length=100, null=True)),
                ("price", models.DecimalField(decimal_places=2, max_digits=10)),
                ("frequency", models.PositiveSmallIntegerField(blank=True, null=True)),
                (
                    "frequency_type",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("day", "daily"),
                            ("week", "weekly"),
                            ("month", "monthly"),
                            ("quarter", "quarterly"),
                            ("year", "yearly"),
                        ],
                        max_length=10,
                        null=True,
                        verbose_name="frequency type",
                    ),
                ),
                (
                    "ledger_account",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        to="accounting.ledgeraccount",
                    ),
                ),
                (
                    "tax_rate",
                    models.ForeignKey(
                        limit_choices_to={"active": True, "type": "sales_invoice"},
                        on_delete=django.db.models.deletion.PROTECT,
                        to="accounting.taxrate",
                    ),
                ),
            ],
            options={
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="JournalDocumentLine",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                (
                    "moneybird_json",
                    models.JSONField(null=True, verbose_name="JSON MoneyBird"),
                ),
                (
                    "description",
                    models.TextField(blank=True, null=True, verbose_name="Description"),
                ),
                (
                    "amount",
                    models.CharField(
                        blank=True,
                        default="1 x",
                        max_length=10,
                        null=True,
                        verbose_name="Amount",
                    ),
                ),
                (
                    "price",
                    models.DecimalField(
                        decimal_places=2, max_digits=19, verbose_name="Prijs"
                    ),
                ),
                (
                    "asset_id_field",
                    models.CharField(
                        blank=True, max_length=50, null=True, verbose_name="Asset-ID"
                    ),
                ),
                (
                    "asset",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="journal_document_lines",
                        to="inventory.asset",
                        verbose_name="Asset",
                    ),
                ),
                (
                    "document",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="document_lines",
                        to="accounting.journaldocument",
                        verbose_name="Document",
                    ),
                ),
                (
                    "ledger",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="accounting.ledgeraccount",
                        verbose_name="Grootboekrekening",
                    ),
                ),
                (
                    "product",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="accounting.product",
                        verbose_name="Product",
                    ),
                ),
                (
                    "project",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="accounting.project",
                        verbose_name="Project",
                    ),
                ),
                (
                    "tax_rate",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="accounting.taxrate",
                        verbose_name="Tax rate",
                    ),
                ),
            ],
            options={
                "verbose_name": "Journal document line",
                "verbose_name_plural": "Journal document lines",
                "ordering": ("-document__date",),
            },
        ),
        migrations.AddField(
            model_name="journaldocument",
            name="workflow",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="accounting.workflow",
                verbose_name="Workflow",
            ),
        ),
        migrations.CreateModel(
            name="EstimateDocumentLine",
            fields=[
                (
                    "moneybird_id",
                    models.PositiveBigIntegerField(
                        blank=True,
                        primary_key=True,
                        serialize=False,
                        unique=True,
                        verbose_name="Moneybird ID",
                    ),
                ),
                (
                    "moneybird_json",
                    models.JSONField(null=True, verbose_name="JSON MoneyBird"),
                ),
                ("description", models.TextField(verbose_name="Description")),
                (
                    "asset_id_field",
                    models.CharField(max_length=50, null=True, verbose_name="Asset-ID"),
                ),
                (
                    "asset",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="estimate_document_lines",
                        to="inventory.asset",
                        verbose_name="Asset",
                    ),
                ),
                (
                    "document",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="document_lines",
                        to="accounting.estimate",
                        verbose_name="Document",
                    ),
                ),
            ],
            options={
                "verbose_name": "Estimate document line",
                "verbose_name_plural": "Estimate document lines",
                "ordering": ("-document__date",),
            },
        ),
        migrations.AddField(
            model_name="estimate",
            name="workflow",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="accounting.workflow",
                verbose_name="Workflow",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="journaldocument",
            unique_together={("moneybird_id", "document_kind")},
        ),
    ]
